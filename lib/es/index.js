import{Component,createElement}from'react';import*as _vj from'video.js';const defaultEvents=['loadeddata','canplay','canplaythrough','play','pause','waiting','playing','ended','error'],videojs=_vj;class VideoPlayer extends Component{constructor(a){super(a),this.globalOption={controls:!0,errorDisplay:!1,preload:'auto',controlBar:{remainingTimeDisplay:!1,playToggle:{},progressControl:{},fullscreenToggle:{},volumeMenuButton:{inline:!1,vertical:!0}},techOrder:['html5'],plugins:{}},this.setVideoDom=a=>{this.videoDom=a}}componentDidMount(){this.globalOption=Object.assign(this.globalOption,this.props.option),console.log('globalOption',this.globalOption),this.initPlayer()}initPlayer(){const a=this;this.player=videojs(this.videoDom,this.globalOption,function(){const b=defaultEvents.concat(a.props.events||[]);for(let c=0;c<b.length;c++)this.on(b[c],()=>{a.emitPlayerState(b[c],!0)});this.on('timeupdate',function(){a.emitPlayerState('timeupdate',this.currentTime())}),a.props.ready(this)})}emitPlayerState(a,b){a&&!!this.props[a]&&this.props[a](this.player),b&&this.props.statechanged({[a]:b})}render(){return createElement('div',null,createElement('video',{className:'video-js',ref:this.setVideoDom}))}}class Mp4VideoPlayer extends Component{constructor(){super(...arguments),this.playerOption={height:'360',autoplay:!0,muted:!0,language:'en',playbackRates:[.5,1,1.5,2],sources:[{type:'video/mp4',src:'http://vjs.zencdn.net/v/oceans.mp4'}],poster:'https://surmon-china.github.io/vue-quill-editor/static/images/surmon-1.jpg'}}onPlayerPlay(){}onPlayerPause(){}onPlayerEnded(){}onPlayerLoadeddata(){}onPlayerWaiting(){}onPlayerPlaying(){}onPlayerTimeupdate(){}onPlayerCanplay(){}onPlayerCanplaythrough(){}playerStateChanged(){}playerReadied(){}render(){return createElement('div',null,createElement(VideoPlayer,{option:this.playerOption,play:this.onPlayerPlay,pause:this.onPlayerPause,ended:this.onPlayerEnded,loadeddata:this.onPlayerLoadeddata,waiting:this.onPlayerWaiting,playing:this.onPlayerPlaying,timeupdate:this.onPlayerTimeupdate,canplay:this.onPlayerCanplay,canplaythrough:this.onPlayerCanplaythrough,statechanged:this.playerStateChanged,ready:this.playerReadied}))}}class FlashVideoPlayer extends Component{constructor(){super(...arguments),this.playerOption={height:'360',sources:[{type:'video/x-flv',src:'http://fms.cntv.lxdns.com/live/flv/channel96.flv'}],controlBar:{timeDivider:!1,durationDisplay:!1},techOrder:['flash','html5'],sourceOrder:!0,flash:{hls:{withCredentials:!1}},html5:{hls:{withCredentials:!1}},poster:'https://surmon-china.github.io/vue-quill-editor/static/images/surmon-6.jpg'}}playerStateChanged(a){console.log('player current update state',a)}playerReadied(a){console.log('example 2 ready!',a)}render(){return createElement('div',null,createElement(VideoPlayer,{option:this.playerOption,statechanged:this.playerStateChanged,ready:this.playerReadied}))}}class HlsVideoPlayer extends Component{constructor(){super(...arguments),this.playerOption={height:'360',sources:[{withCredentials:!1,type:'application/x-mpegURL',src:'http://securelive.ainemo.com/devnemo/ff808081644115b801644460de3b00a7.m3u8?auth_key=aea522d5b4b86afb08dc47c8c0d6f4f8-1559467800-0a5192a63e654c008c62429bec3b21ed-'}],controlBar:{timeDivider:!1,durationDisplay:!1},flash:{hls:{withCredentials:!1}},html5:{hls:{withCredentials:!1}},poster:'https://surmon-china.github.io/vue-quill-editor/static/images/surmon-5.jpg'}}playerStateChanged(a){console.log('player current update state',a)}playerReadied(a){console.log('example 2 ready!',a)}render(){return createElement('div',null,createElement(VideoPlayer,{option:this.playerOption,statechanged:this.playerStateChanged,ready:this.playerReadied}))}}class App extends Component{render(){return createElement('div',null,createElement(Mp4VideoPlayer,null),createElement(FlashVideoPlayer,null),createElement(HlsVideoPlayer,null))}}export default App;
//# sourceMappingURL=index.js.map
